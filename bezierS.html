<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Bezier Surfaces · NURBS.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/><link href="assets/nurbs.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="index.html"><img class="logo" src="assets/logo.png" alt="NURBS.jl logo"/></a><h1>NURBS.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Home</a></li><li><a class="toctext" href="gettingStarted.html">Getting Started</a></li><li><span class="toctext">Curves</span><ul><li><a class="toctext" href="bezierC.html">Bezier Curves</a></li><li><a class="toctext" href="splineC.html">B-Spline Curves</a></li><li><a class="toctext" href="rSplineC.html">Rational B-Spline Curves</a></li></ul></li><li><span class="toctext">Surfaces</span><ul><li class="current"><a class="toctext" href="bezierS.html">Bezier Surfaces</a><ul class="internal"><li><a class="toctext" href="#Bézier-Properties-1">Bézier Properties</a></li><li><a class="toctext" href="#Matrix-Representation-1">Matrix Representation</a></li><li><a class="toctext" href="#Bézier-Surface-Derivatives-1">Bézier Surface Derivatives</a></li></ul></li><li><a class="toctext" href="splineS.html">B-Spline Surfaces</a></li><li><a class="toctext" href="rSplineS.html">Rational B-Spline Surfaces</a></li></ul></li><li><a class="toctext" href="authors.html">Authors</a></li></ul></nav><article id="docs"><header><nav><ul><li>Surfaces</li><li><a href="bezierS.html">Bezier Surfaces</a></li></ul><a class="edit-page" href="https://github.com/eOnofri04/NURBS.jl/blob/master/docs/src/bezierS.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Bezier Surfaces</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Bézier-Surfaces-1" href="#Bézier-Surfaces-1">Bézier Surfaces</a></h1><p>Bézier Surfaces are special kind of NURBS build upon a controll net <span>$B$</span> and a couple of Bernstein basis <span>$J_{n,i}(u)$</span> and <span>$K_{m,j}(w)$</span>.</p><p>Mathematically, a parametric Bézier surface is defined by</p><div>\[Q(u, w) = \sum_{i=0}^n \sum_{j=0}^m B_{i,j} J_{n,i}(u) K_{m,j}(w)\]</div><p>where <span>$u$</span> and <span>$w$</span> are two parametric directions and <span>$n = npts - 1$</span> while <span>$m = mpts - 1$</span>.</p><p>We point out that the Bernstein Basis are defined as</p><div>\[\begin{split}
	J_{n, i}(u) = \binom ni u^i(1-u)^{n-i}\\
	K_{m, j}(w) = \binom mj w^j(1-w)^{m-j}
\end{split}\]</div><h2><a class="nav-anchor" id="Bézier-Properties-1" href="#Bézier-Properties-1">Bézier Properties</a></h2><p>Many properties of Bézier Surfaces are known:</p><ul><li><p>The degree of the surface in each parametric direction is one less than the number of control net vertices in that direction.</p></li><li><p>The continuity of the surface in each parametric direction is two less than the number of control net vertices in that direction.</p></li><li><p>The surface generally follows the shape of the control net.</p></li><li><p>Only the corner points of the control net and the resulting Bézier surface are coincident.</p></li><li><p>The surface is contained within the convex hull of the control net.</p></li><li><p>The surface does not exhibit the variation-diminishing property. The variation-diminishing property for bivariant surfaces is both undefined and unknown.</p></li><li><p>The surface is invariant under an affine transformation.</p></li></ul><h2><a class="nav-anchor" id="Matrix-Representation-1" href="#Matrix-Representation-1">Matrix Representation</a></h2><p>Like in Bézier Curves, also Bézier surfaces are very well described by a matrix point of view. Here we could simplify the calculus by writing:</p><div>\[	Q(u, w) = [U][N][B][M]^T[W]^T\]</div><p>where</p><div>\[\begin{split}
	[U] =&amp; \begin{bmatrix} 
		u^n &amp; u^{n-1} &amp; \dots &amp; 1
	\end{bmatrix}\\
	[W] =&amp; \begin{bmatrix} 
		w^n &amp; u^{w-1} &amp; \dots &amp; 1
	\end{bmatrix}\\
	[B] =&amp; \begin{bmatrix} 
		B_{0,0}	&amp;	\dots	&amp;	B_{0,m}	\\
		\vdots	&amp;	\ddots	&amp;	\vdots	\\
		B_{n,0}	&amp;	\dots	&amp;	B_{n,m}
	\end{bmatrix}
\end{split}\]</div><p>and <span>$N$</span> and <span>$M$</span> are the coefficient matrix of the base, so given by:</p><div>\[\begin{split}
	[N] = \begin{bmatrix}
		\binom n0\binom nn (-1)^n &amp; \binom n1 \binom{n-1}{n-1}(-1)^{n-1} &amp; \dots &amp; \binom nn \binom{n-n}{n-n}(-1)^0\\
		\binom n0\binom n{n-1} (-1)^{n-1} &amp; \binom n1 \binom{n-1}{n-2}(-1)^{n-2} &amp; \dots &amp; 0\\
		\vdots &amp; \vdots &amp; \ddots &amp; \vdots\\
		\binom n0\binom n1 (-1)^1 &amp; \binom n1 \binom{n-1}0(-1)^0 &amp; \dots &amp; 0\\
		\binom n0\binom n0 (-1)^0 &amp; 0 &amp; \dots &amp; 0\\
	\end{bmatrix} \\
	[M] = \begin{bmatrix}
		\binom m0\binom mm (-1)^m &amp; \binom m1 \binom{m-1}{m-1}(-1)^{m-1} &amp; \dots &amp; \binom mm \binom{m-m}{m-m}(-1)^0\\
		\binom m0\binom m{m-1} (-1)^{m-1} &amp; \binom m1 \binom{m-1}{m-2}(-1)^{m-2} &amp; \dots &amp; 0\\
		\vdots &amp; \vdots &amp; \ddots &amp; \vdots\\
		\binom m0\binom m1 (-1)^1 &amp; \binom m1 \binom{m-1}0(-1)^0 &amp; \dots &amp; 0\\
		\binom m0\binom m0 (-1)^0 &amp; 0 &amp; \dots &amp; 0\\
	\end{bmatrix}
\end{split}\]</div><p>or, in other worlds:</p><div>\[\begin{split}
	\left(N_{i+1,j+1}\right)_{i,j=0}^n =&amp; \begin{cases}
		\binom nj \binom{n-j}{n-i-j}(-1)^{n-i-j}	&amp;	\mbox{if } 0 \leq i+j \leq n\\
		0											&amp;	\mbox{otherwise}
	\end{cases}\\
	\left(M_{i+1,j+1}\right)_{i,j=0}^m =&amp; \begin{cases}
		\binom mj \binom{m-j}{m-i-j}(-1)^{m-i-j}	&amp;	\mbox{if } 0 \leq i+j \leq m\\
		0											&amp;	\mbox{otherwise}
	\end{cases}\\
\end{split}\]</div><p>of course it is possible to decompose <span>$[N]$</span> and <span>$[M]$</span> in two more matrices, like for curves, leading to the following scheme:</p><div>\[Q(u, w) = [U]([C][D])[B]([E][F])^T[W]^T = [U][C][D][B][F]^T[E]^T[W]^T\]</div><p>Much more interesting is the situation where <span>$m = n$</span> as <span>$[M] = [N]$</span></p><h2><a class="nav-anchor" id="Bézier-Surface-Derivatives-1" href="#Bézier-Surface-Derivatives-1">Bézier Surface Derivatives</a></h2><p>Of course is simple to determine the derivatives starting from the matrix notation.</p><p>We recall th results about the first and the second derivatives but the process could be extended further with no particular changes:</p><div>\[\begin{split}
	\frac {\partial}{\partial u} Q(u,w) = &amp;	[U&#39;][N][B][M]^T[W]^T\\
	\frac {\partial}{\partial w} Q(u,w) = &amp;	[U][N][B][M]^T[W&#39;]^T\\
	\frac {\partial^2}{\partial u\partial w} Q(u,w) = &amp;	[U&#39;][N][B][M]^T[W&#39;]^T\\
	\frac {\partial^2}{\partial u^2} Q(u,w) = &amp;	[U&#39;&#39;][N][B][M]^T[W]^T\\
	\frac {\partial^2}{\partial w^2} Q(u,w) = &amp;	[U][N][B][M]^T[W&#39;&#39;]^T
\end{split}\]</div><p>where, as expected, we have:</p><div>\[\begin{split}
	[U&#39;] =&amp; [nu^{n-1} \quad (n-1)u^{n-2} \quad \dots \quad 2n \quad 1 \quad 0]\\
	[W&#39;] =&amp; [mw^{m-1} \quad (m-1)w^{m-2} \quad \dots \quad 2m \quad 1 \quad 0]\\
	[U&#39;&#39;] =&amp; [n(n-1)u^{n-2} \quad (n-1)(n-2)u^{n-3} \quad \dots \quad 1 \quad 0 \quad 0]\\
	[W&#39;&#39;] =&amp; [m(m-1)w^{m-2} \quad (m-1)(m-2)w^{m-3} \quad \dots \quad 1 \quad 0 \quad 0]\\
\end{split}\]</div><footer><hr/><a class="previous" href="rSplineC.html"><span class="direction">Previous</span><span class="title">Rational B-Spline Curves</span></a><a class="next" href="splineS.html"><span class="direction">Next</span><span class="title">B-Spline Surfaces</span></a></footer></article></body></html>
