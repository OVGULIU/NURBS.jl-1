<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>B-Spline Curves · NURBS.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/><link href="assets/nurbs.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="index.html"><img class="logo" src="assets/logo.png" alt="NURBS.jl logo"/></a><h1>NURBS.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Home</a></li><li><a class="toctext" href="nurbs.html">NURBS Intro</a></li><li><span class="toctext">Structure</span><ul><li><a class="toctext" href="bezierC.html">Bezier Curves</a></li><li class="current"><a class="toctext" href="splineC.html">B-Spline Curves</a><ul class="internal"><li><a class="toctext" href="#B-Spline-Properties-1">B-Spline Properties</a></li><li><a class="toctext" href="#Knots-1">Knots</a></li></ul></li><li><a class="toctext" href="rSplineC.html">Rational B-Spline Curves</a></li><li><a class="toctext" href="bezierS.html">Bezier Surfaces</a></li><li><a class="toctext" href="splineS.html">B-Spline Surfaces</a></li><li><a class="toctext" href="rSplineS.html">Rational B-Spline Surfaces</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Structure</li><li><a href="splineC.html">B-Spline Curves</a></li></ul><a class="edit-page" href="https://github.com/eOnofri04/NURBS.jl/blob/master/docs/src/splineC.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>B-Spline Curves</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="B-Spline-Curves-1" href="#B-Spline-Curves-1">B-Spline Curves</a></h1><p>A B-Spline is the representation of a curve (<em>i.e</em> a function) build from the interpolation of the elements of a normalized base of the analytic functions space.</p><p>The interpolation is build between a vector of points (called <em>knots</em>) positioned inside a controll polygon (delimited by a family of controll points <span>$B$</span>).</p><p>The positioning vector (<em>i.e.</em> the parametric funtion) of a B-Spline is defined as follows:</p><div>\[P(t) = \sum_{i=1}^{n+1}B_iN_{i,k}(t), \qquad 2 \leq k \leq n+1\]</div><p>where:</p><ul><li><p><span>$B_i$</span> is the <span>$i$</span>-th point between the <span>$n+1$</span> controll points (of the polygon)</p></li><li><p><span>$N_{i,k}$</span> is the function of the <span>$i$</span>-th basis of the B-Spline normalized with order <span>$k$</span> (<em>i.e</em> degree <span>$k-1$</span>).</p></li></ul><p>A method to evaluate <span>$N_{i, k}$</span> is given by +Cox-de Boor* recursive form.</p><div>\[    N_{i,k}(t) = \frac{(t-x_i)N_{i,k-1}(t)}{x_{i+k-1}-x_i} + \frac{(x_{i+k}-t)N_{i+1,k-1}(t)}{x_{i+k}-x_{i+1}},
    \qquad \mbox{con} \quad
    N_{i,1}(t) = 
    \begin{cases}
        1  &amp;  \mbox{ if } x_i &lt; t &lt; x_{i+1}\\
        0  &amp;  \mbox{ otherwise}
    \end{cases}\]</div><hr/><hr/><h2><a class="nav-anchor" id="B-Spline-Properties-1" href="#B-Spline-Properties-1">B-Spline Properties</a></h2><p>The following are properties hold by B-Splines:</p><ul><li><p>The sum of the basis function in every point <span>$t$</span> is equal to one:</p></li></ul><div>\[\sum_{i=1}^{n+1} N_{i,k} = 1\]</div><ul><li><p>Basis function are non-negative for each and every point <span>$t$</span></p></li><li><p>The order of a curve is at most equals to the number <span>$n+1$</span> of controll points (so the maximum degree is <span>$n$</span>).</p></li><li><p>A curve could be modified by an affine function <span>$f$</span> by applying the function to the controll points of the polygon.</p></li><li><p>The curve is located inside the convex hull of the controll polygon.</p></li></ul><hr/><hr/><h2><a class="nav-anchor" id="Knots-1" href="#Knots-1">Knots</a></h2><p>Knots choise is very important.</p><p>There is an important relation between the number of controll polygon points <span>$m$</span>, the order of the function <span>$k$</span> and the number of knots <span>$m$</span>, wich is:</p><div>\[m = k + n +1\]</div><p>We have two kind of knots:</p><ul><li><p><strong>periodics</strong>: The first and the last value has <span>$k$</span> multiplicity;</p></li><li><p><strong>open</strong>: Each value has the same multiplicity.</p></li></ul><p>wich could be build in two manners:</p><ul><li><p><strong>uniform</strong>: Knots are evenly spaced;</p></li><li><p><strong>non uniform</strong>: there are different space between knots.</p></li></ul><p>We have so four classes of knots:</p><ul><li><p><strong>Uniform Periodics</strong>: Wich are linked to a base d</p></li></ul><div>\[ N_{i,k}(t) = N_{i-1,k}(t-1) = N_{i+1,k}(t+1)
 ```
 - **Open Uniform**: They have an even space between knots and the multiplicity is ``k`` at the edges, for example:
 ```math
 k = 3 \qquad [0\ 0\ 0\ 1\ 2\ 3\ 3\ 3]
 ```
   Follow from this definition that if the number of controll polygon points is equals to the order of the curve, than this curve is a Bézier curve: in fact the basis is build just like a Bernstein Basis.
 - **Open Non-Uniform**
 - **Periodic Non-Uniform**

---
---
## B-Spline Basis Functions

As the function ``N_{i,k}`` is defined by *Cox-de Boor* formulas in a recursive way, the evaluation of a basis set could be optimized by saving the previous evaluation. The dependency tree is:\]</div><p>math     \begin{matrix}         N_{i, k}\
        N_{i, k-1} &amp; N_{i+1, k-1}\
        N_{i, k-2} &amp; N_{i+1, k-2} &amp; N_{i+2, k-2}\
        \vdots &amp; \vdots &amp; \vdots &amp; \ddots\
        N_{i, 1} &amp; N_{i+1, 1} &amp; N_{i+2, 1} &amp; \dots &amp; N_{i+k-1, 1}     \end{matrix}     \begin{matrix}         N_{i-k+1, k} &amp; \dots &amp; N_{i-1, k} &amp; N_{i, k} &amp; N_{i+1, k} &amp; \dots &amp; N_{i+k-1, k}\
                    &amp; \ddots &amp; \vdots     &amp; \vdots   &amp; \vdots     &amp;       &amp;             \
                     &amp;       &amp; N_{i-1, 2} &amp; N_{i, 2} &amp; N_{i+1, 2} \
                     &amp;       &amp;            &amp; N_{i, 1}      \end{matrix} ```</p><footer><hr/><a class="previous" href="bezierC.html"><span class="direction">Previous</span><span class="title">Bezier Curves</span></a><a class="next" href="rSplineC.html"><span class="direction">Next</span><span class="title">Rational B-Spline Curves</span></a></footer></article></body></html>
